---
layout: post
title: 线程池
categories: [C/C++]
description: 通过面试技术入手，介绍线程使用相关的知识
keywords: 线程
---



##### 背景

相较传统多线程方案“即时创建，即时销魂”。适合减少线程本身创建、销毁开销。

###### 适合：

- 单位时间内处理任务频繁且处理时间短
- 对实时要求高，接收到任务创建，可能满足不了实时要求，必须采用预创建

##### 原理

1. 程序启动后创建一定数量的线程，这些线程都处于阻塞状态，不占用CPU，但占用较小的内存空间。
2. 当任务来后，缓冲池选一个空闲线程，把任务传入此线程中运行。
3. 当线程都在处理任务后，缓冲池自动创建一定数量的新线程，用于处理更多的任务。
4. 任务执行完后线程也不退出，继续保持在池中等待下一次任务。
5. 当系统比较空闲，大部分线程一直处于暂停状态，线程池自动销魂一部分线程，回收系统资源。


